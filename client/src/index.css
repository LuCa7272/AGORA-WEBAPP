/* FILE: client/src/index.css (VERSIONE CORRETTA E PULITA) */

/* Import dei font di Google per un look nativo */
@import url('https://fonts.googleapis.com/css2?family=Roboto+Flex:opsz,wght@8..144,400;8..144,500;8..144,700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Google+Sans+Text:wght@400;500;700&display=swap');

/* Reset di base di Tailwind */
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Definizione delle variabili di colore di Material Design 3 (Tema Chiaro) */
  :root {
    /* Colori primari */
    --md-sys-color-primary: #006d3d;
    --md-sys-color-on-primary: #ffffff;
    --md-sys-color-primary-container: #96f7b8;
    --md-sys-color-on-primary-container: #00210e;

    /* Colori secondari */
    --md-sys-color-secondary: #4e6354;
    --md-sys-color-on-secondary: #ffffff;
    --md-sys-color-secondary-container: #d1e8d5;
    --md-sys-color-on-secondary-container: #0b1f13;

    /* Colori terziari */
    --md-sys-color-tertiary: #3c6471;
    --md-sys-color-on-tertiary: #ffffff;
    --md-sys-color-tertiary-container: #c0e9f8;
    --md-sys-color-on-tertiary-container: #001f27;

    /* Colori di errore */
    --md-sys-color-error: #ba1a1a;
    --md-sys-color-on-error: #ffffff;
    --md-sys-color-error-container: #ffdad6;
    --md-sys-color-on-error-container: #410002;

    /* Sfondi e superfici */
    --md-sys-color-background: #fbfdf8;
    --md-sys-color-on-background: #191c1a;
    --md-sys-color-surface: #fbfdf8;
    --md-sys-color-on-surface: #191c1a;
    --md-sys-color-surface-variant: #dde5db;
    --md-sys-color-on-surface-variant: #414942;
    --md-sys-color-inverse-surface: #2e312e;
    --md-sys-color-inverse-on-surface: #f0f1ed;

    /* Bordi e separatori */
    --md-sys-color-outline: #717972;
    --md-sys-color-outline-variant: #c1c9c0;

    /* Contenitori di superficie con diverse elevazioni/enfasi */
    --md-sys-color-surface-container-lowest: #ffffff;
    --md-sys-color-surface-container-low: #f5f7f2;
    --md-sys-color-surface-container: #eff1ec;
    --md-sys-color-surface-container-high: #e9ebe6;
    --md-sys-color-surface-container-highest: #e3e5e1;
    
    /* Mappatura alle variabili di Shadcn/UI e Tailwind */
    --background: var(--md-sys-color-background);
    --foreground: var(--md-sys-color-on-background);
    --card: var(--md-sys-color-surface-container);
    --card-foreground: var(--md-sys-color-on-surface);
    --popover: var(--md-sys-color-surface-container-high);
    --popover-foreground: var(--md-sys-color-on-surface);
    --primary: var(--md-sys-color-primary);
    --primary-foreground: var(--md-sys-color-on-primary);
    --secondary: var(--md-sys-color-secondary);
    --secondary-foreground: var(--md-sys-color-on-secondary);
    --muted: var(--md-sys-color-surface-container-low);
    --muted-foreground: var(--md-sys-color-on-surface-variant);
    --accent: var(--md-sys-color-tertiary-container);
    --accent-foreground: var(--md-sys-color-on-tertiary-container);
    --destructive: var(--md-sys-color-error);
    --destructive-foreground: var(--md-sys-color-on-error);
    --border: var(--md-sys-color-outline-variant);
    --input: var(--md-sys-color-surface-container-high);
    --ring: var(--md-sys-color-primary);
    --radius: 0.8rem;
  }
  
  html, body, #root {
    height: 100%;
    width: 100%;
    overflow-x: hidden;
  }

  body {
    background-color: var(--background);
    color: var(--foreground);
    font-family: 'Roboto Flex', 'Google Sans Text', sans-serif;
    -webkit-text-size-adjust: 100%; 
  }
}

@layer components {
  /* --- HO SPOSTATO LE CLASSI PERSONALIZZATE QUI DENTRO --- */
  /* Questo è il layer corretto per definire nuovi componenti con @apply */

  /* Navigation Bar - UNA SOLA DEFINIZIONE, CORRETTA */
  .md3-navigation-bar {
    @apply fixed bottom-0 left-0 right-0 h-20 bg-[color:var(--md-sys-color-surface-container)] px-2 pt-3 z-50;
    @apply shadow-[0_-1px_3px_rgba(0,0,0,0.1)]; /* Ombra più sottile solo sopra */
    /* Aggiunge padding inferiore per la safe area dei cellulari */
    padding-bottom: calc(0.75rem + env(safe-area-inset-bottom));
  }
  
  /* Tipografia */
  .md3-display-large { @apply text-[57px] leading-[64px] font-normal; }
  .md3-display-medium { @apply text-[45px] leading-[52px] font-normal; }
  /* ... (altre classi tipografiche invariate) ... */
  .md3-body-small { @apply text-[12px] leading-[16px] font-normal tracking-[0.4px]; }

  /* Superfici */
  .md3-surface { @apply bg-[color:var(--md-sys-color-surface)] text-[color:var(--md-sys-color-on-surface)]; }
  .md3-surface-container { @apply bg-[color:var(--md-sys-color-surface-container)] text-[color:var(--md-sys-color-on-surface)]; }
  .md3-surface-container-high { @apply bg-[color:var(--md-sys-color-surface-container-high)] text-[color:var(--md-sys-color-on-surface)]; }
  .md3-surface-variant { @apply bg-[color:var(--md-sys-color-surface-variant)] text-[color:var(--md-sys-color-on-surface-variant)]; }
  
  /* Contenitori Colorati */
  .md3-primary-container { @apply bg-[color:var(--md-sys-color-primary-container)] text-[color:var(--md-sys-color-on-primary-container)]; }
  .md3-secondary-container { @apply bg-[color:var(--md-sys-color-secondary-container)] text-[color:var(--md-sys-color-on-secondary-container)]; }
  .md3-tertiary-container { @apply bg-[color:var(--md-sys-color-tertiary-container)] text-[color:var(--md-sys-color-on-tertiary-container)]; }

  /* Elevazione (Ombre) */
  .md3-elevation-1 { @apply shadow-[0_1px_2px_0_rgba(0,0,0,0.3),0_1px_3px_1px_rgba(0,0,0,0.15)]; }
  .md3-elevation-2 { @apply shadow-[0_1px_2px_0_rgba(0,0,0,0.3),0_2px_6px_2px_rgba(0,0,0,0.15)]; }
  
  /* Pulsanti Material */
  .md3-button-filled { @apply bg-primary text-primary-foreground rounded-full px-6 py-2.5 text-sm font-medium tracking-wide transition-shadow hover:shadow-lg disabled:opacity-50 disabled:shadow-none; }
  /* ... (altri pulsanti invariati) ... */
  
  /* Floating Action Button (FAB) */
  .md3-fab { @apply w-14 h-14 bg-[color:var(--md-sys-color-primary-container)] text-[color:var(--md-sys-color-on-primary-container)] rounded-2xl shadow-lg flex items-center justify-center; }
  
  /* Effetto Ripple (da applicare a elementi cliccabili) */
  .md3-ripple { @apply relative overflow-hidden; }
}